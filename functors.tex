\section{Functors}

\subsection{The Definition}

\definitionof{Functor}{
    A \emph{functor}
    $
        F : \cat{C} \to \cat{D}
    $
    consists of
    \In{enumerate}{
        \item \emph{domain}: a category $\cat{C}$
        \item \emph{codomain}: a category $\cat{D}$
        \item a family of objects
        $
            (FA \in \catOb{D}) _ {A \in \catOb{C}}
        $
        \item families of morphisms
        \In{align*}{
            \big( (F(f) \in \cat{D}(FA,FB)) _ {f \in \cat{C}(A,B)} \big)_{A,B \in \catOb{C}}
        }
    }
    satisfying the \emph{functoriality}:
    \In{enumerate}{
        \item \emph{composition-compatibility}: for any $f \in \cat{C}(A,B)$ and $g \in \cat{C}(B,C)$,
        \In{align*}{
            F(g \circ f) = F(g) \circ F(f)
        }
        \item \emph{unit-compatibility}: for any $A \in \catOb{C}$,
        \In{align*}{
            F(\operatorname{id}_A) = \operatorname{id}_{FA}
        }
    }
}

\definitionof{Infrafunctor}{
    An \emph{infrafunctor} is a functor without the requirement of functoriality.
}

\subsection{Functorial Tubes}

In string diagrams, a functor can be depict as a \emph{tube} defined by
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdmid,\strdrlabel{B}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdydouble\strdtubemid
            ,\strdat{Left}{\strdoverlabel{F}} 
            ,\strdtubeendline
        }
    } \mydefeq
    \strdgathered{
        \strdmid,\strdrlabel{FB}
        ,\strdbox{1}{1}{
            \strdmid,\strdrlabel{B}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdat{Left}{\strdoverlabel{F}}
        ,\strdmid,\strdrlabel{FA}
    }
}
Placeholders make it simple:
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdmid,\strdrlabel{}
            ,\strdcell{\texttt{?}}
            ,\strdmid,\strdrlabel{}
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdydouble\strdtubemid
            ,\strdat{Left}{\strdoverlabel{F}} 
            ,\strdtubeendline
        }
    } 
}
One can check the functoriality ensures any tube like
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdmid,\strdrlabel{C}
            ,\strdcell{g}
            ,\strdmid,\strdrlabel{B}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdyscale{3}\strdtubemid
            ,\strdtubeendline
        }
    }
}
be unambiguous. ``Join then tube" is the same as ``tube then join".

\In{proposition}{
    \label{f.p.inv}
    Any functor preserves isomorphisms meaning that
    \In{align*}{
        (
        \strdgathered{
            \strdmid,\strdrlabel{B}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        }
        ,
        \strdgathered{
            \strdmid,\strdrlabel{A}
            ,\strdcell{g}
            ,\strdmid,\strdrlabel{B}
        }
        ) : \text{iso}
        \implies
        (
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{B}
                ,\strdcell{f}
                ,\strdmid,\strdrlabel{A}
            }
            ,\strdtube{
                \strdtubestartline
                ,\strdydouble\strdtubemid
                ,\strdtubeendline
            }
        }
        ,
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{A}
                ,\strdcell{g}
                ,\strdmid,\strdrlabel{B}
            }
            ,\strdtube{
                \strdtubestartline
                ,\strdydouble\strdtubemid
                ,\strdtubeendline
            }
        }
        ) : \text{iso}
    }
}

\In{strdproof}{
    Immediate by functoriality, which inheres in tubes.
}

\definitionof{Composite Functor}{
    For any two functors 
    \In{align*}{
        F &: \cat{A} \to \cat{B}\\
        G &: \cat{B} \to \cat{C}
    }
    the \emph{composite functor} of $F$ and $G$
    \In{align*}{
        G \circ F : \cat{A} \to \cat{C}
    }
    is defined as 
    \In{align*}{
        \strdgathered{
            \strdfork{
                \strdmid
                ,\strdcell{\Identity{\texttt{?}}}
                ,\strdmid
            }
            ,\strdtubestart
            ,\strdfork{
                \strdtube{
                    \strdtubemid
                    ,\strdat{Left End}{\strdoverlabel{F}} 
                    ,\strdtubemid
                }
            }
            ,\strdtubeextend{1}{1}
            ,\strdtube{
                \strdcutoff\strdtubebound
                ,\strdtubemid
                ,\strdat{Left End}{\strdoverlabel{G}} 
                ,\strdtubemid
                ,\strdtubeendline
            }
        }
    }
}

\definitionof{Identity Functor}{
    Given a category \cat C, the \emph{identity functor} on \cat C
    \In{align*}{
        \operatorname{Id}_{\cat{C}} : \cat{C} \to \cat{C}
    }
    is defined by 
    \In{align*}{
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{}
                ,\strdcell{\texttt{?}}
                ,\strdmid,\strdrlabel{}
            }
            ,\strdtube{
                \strdtubestartline
                ,\strdydouble\strdtubemid
                ,\strdat{Left}{\strdoverlabel{\operatorname{Id}}} 
                ,\strdtubeendline
            }
        } \mydefeq
        \strdgathered{
            \strdmid,\strdrlabel{}
            ,\strdcell{\texttt{?}}
            ,\strdmid,\strdrlabel{}
        }
    }
}


\definitionof{Contravariant Functor}{
    A functor whose domain is an opposite category
    \In{align*}{
        F : \cat{C}^{\operatorname{op}} \to \cat{D}
    }
    is called \emph{contravariant}, while a normal functor is called \emph{covariant}.
}
A contravariant functor is depicted as
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdmid
            ,\strdcell{\strdupsidedown{\texttt{?}}}
            ,\strdmid
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdtubemid
            %,\strdat{Left End}{\strdoverlabel{F}} 
            ,\strdtubemid
            ,\strdtubeendline
        }
    }
}

\definitionof{Variant}{
    Given a statement regarding functors, you can obtain a corresponding one regarding contravariant functors and vice versa. %
    We call such a statement the \emph{variant} of the original one.
}

\definitionof{Binary Functor}{
    A functor whose domain is a product category
    \In{align*}{
        F : \cat{A} \times \cat{B} \to \cat{C}
    }
    is called a \emph{binary functor} or \emph{bifunctor}.
}

With numbered placeholders, it is depicted as
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdfork{
                \strdxscale{0.7}\strdljump
                ,\strdmid
                ,\strdcell{\texttt{1}}
                ,\strdmid
            }
            ,\strdfork{
                \strdxscale{0.7}\strdrjump
                ,\strdmid
                ,\strdcell{\texttt{2}}
                ,\strdmid
            }
        }
        ,\strdfork{
            \strdtube{
                \strdtubestart
                ,\strdtubeextend{1}{1},\strdcutoff\strdtubebound
                ,\strdydouble\strdtubemid,\strdat{Left}{\strdoverlabel{F}}
                ,\strdcutoff\strdtubebound
            }
        }
    }
}
Spelling out the definition of functoriality, one can check a diagram like
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdxscale{0.7}\strdljump
            ,\strdmid
            ,\strdcell{a\myprime}
            ,\strdmid
            ,\strdcell{a}
            ,\strdmid
        }
        ,\strdfork{
            \strdxscale{0.7}\strdrjump
            ,\strdmid
            ,\strdcell{b\myprime}
            ,\strdmid
            ,\strdcell{b}
            ,\strdmid
        }
        ,\strdfork{
            \strdtube{
                \strdtubestart
                ,\strdtubeextend{1}{1}
                ,\strdcutoff\strdtubebound
                ,\strdyscale{1.5}\strdtubemid,\strdat{Left End}{\strdoverlabel{F}}
                ,\strdyscale{1.5}\strdtubemid%,\strdat{Left}{\strdoverlabel{F}}
                ,\strdcutoff\strdtubebound
            }
        }
    }
}
is unambiguous.

\definitionof{Partial Application}{
    Given a binary functor $F : \cat{A} \times \cat{B} \to \cat{C}$, a \emph{partially applied} functor
    \In{align*}{
        \Lambda_B F(A,B) &: \cat{B} \to \cat{C} \text{ or shortly}\\
        F(A,\texttt{?}) &: \cat{B} \to \cat{C}
    }
    is defined as
    \In{align*}{
        \strdgathered{
            \strdfork{
                \strdfork{
                    \strdxscale{0.7}\strdljump
                    ,\strdydouble\strdmid,\strdrlabel{A}
                }
                ,\strdfork{
                    \strdxscale{0.7}\strdrjump
                    ,\strdmid
                    ,\strdcell{\texttt{?}}
                    ,\strdmid
                }
            }
            ,\strdfork{
                \strdtube{
                    \strdtubestart
                    ,\strdtubeextend{1}{1},\strdcutoff\strdtubebound
                    ,\strdydouble\strdtubemid,\strdat{Left}{\strdoverlabel{F}}
                    ,\strdcutoff\strdtubebound
                }
            }
        }
    }
}
The definition of $F(\texttt{?},B)$ is an exercise. 


% One can spell out the functoriality:
% \In{align*}{
%     \strdgathered{
%         \strdfork{
%             \strdxscale{0.7}\strdljump
%             ,\strdmid
%             ,\strdcell{a\myprime}
%             ,\strdmid
%             ,\strdcell{a}
%             ,\strdmid
%         }
%         ,\strdfork{
%             \strdxscale{0.7}\strdrjump
%             ,\strdmid
%             ,\strdcell{b\myprime}
%             ,\strdmid
%             ,\strdcell{b}
%             ,\strdmid
%         }
%         ,\strdfork{
%             \strdtube{
%                 \strdtubestart
%                 ,\strdtubeextend{2}{2}
%                 ,\strdcutoff\strdtubebound
%                 ,\strdyscale{3}\strdtubemid,\strdat{Left}{\strdoverlabel{F}}
%                 ,\strdcutoff\strdtubebound
%             }
%         }
%         ,\strdfork{
%             \strdtubeof{strd cutoff}{
%                 \strdtubestart
%                 ,\strdtubeextend{1}{1}
%                 ,\strdyscale{3}\strdtubemid
%             }
%         }
%     } \,=\,
%     \strdgathered{
%         \strdfork{
%             \strdxscale{0.7}\strdljump
%             ,\strdmid
%             ,\strdcell{a\myprime}
%             ,\strdmid
%             ,\strdcell{a}
%             ,\strdmid
%         }
%         ,\strdfork{
%             \strdxscale{0.7}\strdrjump
%             ,\strdmid
%             ,\strdcell{b\myprime}
%             ,\strdmid
%             ,\strdcell{b}
%             ,\strdmid
%         }
%         ,\strdfork{
%             \strdtube{
%                 \strdtubestart
%                 ,\strdtubeextend{1}{1}
%                 ,\strdcutoff\strdtubebound
%                 ,\strdyscale{1.5}\strdtubemid,\strdat{Left}{\strdoverlabel{F}}
%                 ,\strdcutoff\strdtubebound
%                 ,\strdyscale{1.5}\strdtubemid,\strdat{Left}{\strdoverlabel{F}}
%                 ,\strdcutoff\strdtubebound
%             }
%         }
%     }
% }

\definitionof{Small Category}{
    A category $\cat{C}$ is called \emph{small} when $\catOb{C}$ is a set. 
}

\definitionof{Category of Small Categories}{
    The \emph{category of small categories} $\catCat$ is the category whose objects are %
    all small categories and whose morphisms are functors:
    \In{align*}{
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{\cat{C}}
                ,\strdcell{G}
                ,\strdmid,\strdrlabel{\cat{B}}
                ,\strdcell{F}
                ,\strdmid,\strdrlabel{\cat{A}}
            }
        }
    }
    where composite functors join the strings.
}

\definitionof{Full and Faithful Functor}{
    A functor $F : \cat{C} \to \cat{D}$ is called \emph{full and faithful} %
    if for each object $A$ and $B$ in $\cat{C}$, the family 
    \In{align*}{
        (F(f) : FA \to FB)_{f : A \to B}
    }
    is bijective.
}
In other words, there is a functional box such that
\In{align*}{
    \strdgathered{
        \strdfork{
            \strdmid,\strdrlabel{B}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdtubemid
            ,\strdwidecell{1}{1}{g}
            ,\strdtubemid
            ,\strdtubeendline
        }
    } =
    \strdgathered{
        \strdfork{
            \strdmid,\strdrlabel{B}
            ,\strdcell{f}
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdtube{
            \strdtubestartline
            ,\strdtubemid
            ,\strdnone{\strdwidecell{1}{1}{g}}
            ,\strdtubemid
            ,\strdtubeendline
        }
    } \iff
    \strdgathered{
        \strdmid,\strdrlabel{B}
        ,\strdcell{f}
        ,\strdmid,\strdrlabel{A}
    } =
    \strdgathered{
        \strdmid,\strdrlabel{B}
        ,\strdbox{1.7}{1.7}{
            \strdfork{
                \strdmid,\strdrlabel{B}
                ,\strdmid,\strdrlabel{A}
            }
            ,\strdtube{
                \strdtubestart
                ,\strdtubemid
                ,\strdwidecell{1}{1}{g}
                ,\strdtubemid
            }
        }
        ,\strdmid,\strdrlabel{A}
    } 
}
One can make this box better-looking
\In{align*}{
    \strdgathered{
        \strdmid,\strdrlabel{B}
        ,\strdfork{
            \strdmid
            ,\strdmid
            ,\strdmid,\strdrlabel{A}
        }
        ,\strdfork{
            \strdtube{
                \strdtubestart
                ,\strdtubemid
                ,\strdwidecell{1}{1}{g}
                ,\strdtubemid
            }
        }
        ,\strdtubeof{strd frame}{
            \strdtubestart
            ,\strdtubesqcap{1}{1}
            ,\strdtubesqcup{1}{1}
        }
    }
}

\In{proposition}{
    \label{ff.fun}
    This box has a functoriality-like property:
    \In{align*}{
        \strdgathered{
            \strdmid,\strdrlabel{C}
            ,\strdfork{
                \strdmid
                ,\strdmid
                ,\strdmid,\strdrlabel{B}
                ,\strdfork{
                    \strdmid
                    ,\strdmid
                    ,\strdmid,\strdrlabel{A}
                }
                ,\strdfork{
                    \strdtube{
                        \strdtubestart
                        ,\strdtubemid
                        ,\strdwidecell{1}{1}{g}
                        ,\strdtubemid
                    }
                }
                ,\strdtubeof{strd frame}{
                    \strdtubestart
                    ,\strdtubesqcap{1}{1}
                    ,\strdtubesqcup{1}{1}
                }
            }
            ,\strdfork{
                \strdtube{
                    \strdtubestart
                    ,\strdtubemid
                    ,\strdwidecell{1}{1}{g\myprime}
                    ,\strdtubemid
                }
            }
            ,\strdtubeof{strd frame}{
                \strdtubestart
                ,\strdtubesqcap{1}{1}
                ,\strdtubesqcup{1}{1}
            }
        } \,=\,
        \strdgathered{
            \strdmid,\strdrlabel{C}
            ,\strdfork{
                \strdmid
                ,\strdmid,\strdrlabel{B}
                ,\strdmid
                ,\strdmid,\strdrlabel{A}
            }
            ,\strdfork{
                \strdtube{
                    \strdtubestart
                    ,\strdtubemid
                    ,\strdwidecell{1}{1}{g\myprime}
                    ,\strdtubemid
                    ,\strdwidecell{1}{1}{g}
                    ,\strdtubemid
                }
            }
            ,\strdtubeof{strd frame}{
                \strdtubestart
                ,\strdtubesqcap{1}{1}
                ,\strdtubemid
                ,\strdtubesqcup{1}{1}
            }
        }
    }
}
Combined with \cref{f.p.inv},
\In{proposition}{
    \label{ff.pr.inv}
    \In{align*}{
        &
        (
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{B}
                ,\strdmid,\strdrlabel{A}
            }
            ,\strdtube{
                \strdtubestartline
                ,\strdtubemid
                ,\strdwidecell{1}{1}{g}
                ,\strdtubemid
                ,\strdtubeendline
            }
        }
        ,
        \strdgathered{
            \strdfork{
                \strdmid,\strdrlabel{A}
                ,\strdmid,\strdrlabel{B}
            }
            ,\strdtube{
                \strdtubestartline
                ,\strdtubemid
                ,\strdwidecell{1}{1}{h}
                ,\strdtubemid
                ,\strdtubeendline
            }
        }
        ) : \text{iso}
        \\
        \iff &
        (
        \strdgathered{
            \strdmid,\strdrlabel{B}
            ,\strdfork{
                \strdmid
                ,\strdmid
                ,\strdmid,\strdrlabel{A}
            }
            ,\strdfork{
                \strdtube{
                    \strdtubestart
                    ,\strdtubemid
                    ,\strdwidecell{1}{1}{g}
                    ,\strdtubemid
                }
            }
            ,\strdtubeof{strd frame}{
                \strdtubestart
                ,\strdtubesqcap{1}{1}
                ,\strdtubesqcup{1}{1}
            }
        }
        ,
        \strdgathered{
            \strdmid,\strdrlabel{A}
            ,\strdfork{
                \strdmid
                ,\strdmid
                ,\strdmid,\strdrlabel{B}
            }
            ,\strdfork{
                \strdtube{
                    \strdtubestart
                    ,\strdtubemid
                    ,\strdwidecell{1}{1}{h}
                    ,\strdtubemid
                }
            }
            ,\strdtubeof{strd frame}{
                \strdtubestart
                ,\strdtubesqcap{1}{1}
                ,\strdtubesqcup{1}{1}
            }
        }
        ) : \text{iso}
    }
}

